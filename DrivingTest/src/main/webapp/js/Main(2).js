define("jkbd!widgets/Dialog",[],function(){"use strict";var t=this.Simple,n=t.Core.Utils,e=t.Core.Template,o=0,i=function(t){return t=t||window.event,t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnvalue=!1),!1},r=function(t,n){var e=n?"unbind":"bind";$(window)[e]("wheel",i)},a=function(){var t=$("#dialog-base-container");return t.length||(t=$("<div id='dialog-base-container'></div>"),$(document.body).append(t)),t.show(),c.count||r(t),c.count=c.count?c.count+1:1,o+=1},c=function(){if(c.count-=1,0===c.count){var t=$("#dialog-base-container");t.hide(),r(t,!0)}},l=function(t){if(window.browser.ie&&window.browser.version<=8){var n=t.width(),e=t.height();t.css({marginLeft:-n/2,marginTop:-e/2}),setTimeout(function(){var n=t.width(),e=t.height();t.css({marginLeft:-n/2,marginTop:-e/2})},200),setTimeout(function(){var n=t.width(),e=t.height();t.css({marginLeft:-n/2,marginTop:-e/2})},500)}},u=function(t){var o,i={},r=a(),s=$("#dialog-base-container");t.content&&t.content.constructorNameSpace&&(o=t.content,t.content="");var d=n.extend({},u.defaultConfig,t,{uid:r});t.title===!1&&(d.title=""),"string"==typeof d.buttons&&(d.buttons=d.buttons.split(/\s+/)),d.buttons=d.buttons||[];for(var f=d.buttons.length-1;f>=0;f--)d.buttons[f]||d.buttons.splice(f,1);return e("jkbd!dialog/home",function(t){var n=$(t);return s.append(n),n[0]},function(t){t=$(t);var n=i;i.dom=t,i.close=function(){e.remove(),c(),i=null};var e=s.item("dialog-"+r);if(l(e.item("dialog-main")),e.item("close").click(function(){i.close()}),e.find("button").click(function(){var t=parseInt($(this).attr("data-value"));(d.click&&d.click.call(n,t))!==!1&&(e.remove(),c())}),o){o.target=e.item("body")[0],o.dialog=n;var a=o.controller;o.controller=d.renderAfter?function(){d.renderAfter.call(n,e)}:function(){a.apply(n,arguments)},o.render()}!o&&d.renderAfter&&d.renderAfter.call(n,e)},d).render(),i};return u.defaultConfig={title:"\u6e29\u99a8\u63d0\u793a",content:"",width:350,backdrop:!0,closeBtn:!0,className:"",buttons:"",temName:"alert",click:null,renderAfter:null},u.alert=function(t,e,o){var i=n.extend({},{content:t,click:e,className:"alert",buttons:"\u786e\u5b9a",closeBtn:!1},o);u(i)},u.confirm=function(t,n,e){e=e||"\u53d6\u6d88 \u786e\u5b9a",u({title:!1,content:t,click:n,buttons:e,className:"confirm",closeBtn:!1})},u});